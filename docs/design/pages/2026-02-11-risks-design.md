# 风险管理模块设计方案

**版本**: v1.0  
**创建日期**: 2026-02-11  
**优先级**: P1  
**复杂度**: 低  
**预计页数**: 1

---

## 1. 页面概述

### 1.1 页面定位

风险管理页面用于项目风险的识别、评估、应对和监控。

### 1.2 目标用户

- 项目经理：识别和监控项目风险
- 风险负责人：制定和执行应对措施
- 团队成员：报告新风险

### 1.3 核心功能

- 风险列表查看
- 风险识别/评估
- 风险应对措施
- 风险监控仪表盘

---

## 2. 页面布局

```
┌─────────────────────────────────────────────────────────────┐
│  页面标题栏                                                  │
│  [风险管理]                                     [识别风险]    │
├─────────────────────────────────────────────────────────────┤
│  风险仪表盘                                                  │
│  ┌─────────────────────┐ ┌─────────────────────┐         │
│  │  风险矩阵图          │ │  风险趋势图          │         │
│  │  (概率 x 影响)      │ │  (时间维度)          │         │
│  └─────────────────────┘ └─────────────────────┘         │
├─────────────────────────────────────────────────────────────┤
│  筛选区域                                                    │
│  [等级▼] [状态▼] [类别▼] [项目▼] [搜索🔍]                  │
├─────────────────────────────────────────────────────────────┤
│  风险列表                                                    │
│  ┌──────────────────────────────────────────────────────┐  │
│  │ 标题  │ 等级 │ 概率 │ 影响 │ 评分 │ 状态 │ 负责人 │  │
│  ├──────────────────────────────────────────────────────┤  │
│  │ ...   │ ...  │ ...  │ ...  │ ...  │ ...  │ ...    │  │
│  └──────────────────────────────────────────────────────┘  │
├─────────────────────────────────────────────────────────────┤
│  分页                                                        │
└─────────────────────────────────────────────────────────────┘
```

---

## 3. 风险等级定义

| 等级 | 颜色 | 评分范围 | 说明 |
|------|------|----------|------|
| 低 | 绿色 | 0-25 | 可接受风险 |
| 中 | 黄色 | 26-50 | 需要关注 |
| 高 | 橙色 | 51-75 | 需要应对 |
| 严重 | 红色 | 76-100 | 紧急处理 |

---

## 4. API 接口

| 接口 | 方法 | 路径 | 说明 |
|------|------|------|------|
| 获取风险列表 | GET | `/api/v1/projects/{id}/risks` | 支持分页和筛选 |
| 获取风险详情 | GET | `/api/v1/projects/{id}/risks/{risk_id}` | 获取风险详情 |
| 创建风险 | POST | `/api/v1/projects/{id}/risks` | 创建新风险 |
| 更新风险 | PUT | `/api/v1/projects/{id}/risks/{risk_id}` | 更新风险 |
| 删除风险 | DELETE | `/api/v1/projects/{id}/risks/{risk_id}` | 删除风险 |
| 风险应对 | POST | `/api/v1/projects/{id}/risks/{risk_id}/responses` | 添加应对记录 |
| 风险统计 | GET | `/api/v1/risks/stats` | 获取风险统计 |

---

## 5. 数据模型

### Risk 模型

| 字段 | 类型 | 说明 |
|------|------|------|
| id | int | 风险ID |
| title | string | 风险标题 |
| description | text | 风险描述 |
| level | enum | LOW, MEDIUM, HIGH, CRITICAL |
| status | enum | IDENTIFIED, ASSESSED, MITIGATING, MONITORING, CLOSED |
| probability | int | 发生概率 0-100 |
| impact | int | 影响程度 0-100 |
| score | int | 风险评分 |
| category | string | 风险类别 |
| source | string | 风险来源 |
| mitigation | text | 应对措施 |
| contingency_plan | text | 应急预案 |
| owner_id | int | 风险负责人 |
| project_id | int | 项目ID |

---

## 6. 组件结构

```
risks/
├── Index.vue          # 页面容器
├── RiskList.vue      # 风险列表
└── RiskMatrix.vue    # 风险矩阵图
```

---

## 7. 验收标准

- [ ] 页面正确显示风险列表
- [ ] 风险矩阵图正确显示
- [ ] 筛选功能正常工作
- [ ] 创建/编辑/删除功能正常
- [ ] 应对措施记录正常
- [ ] 风险评分计算正确

---

**文档版本**: v1.0  
**创建日期**: 2026-02-11

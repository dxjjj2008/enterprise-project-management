# 企业项目管理系统 - UI/UX 设计方案

**版本**: v1.0  
**创建日期**: 2026-02-08  
**设计策略**: 核心页面高保真 + 设计系统 + PC端优先

---

## 1. 核心页面清单

### 1.1 必须设计的核心页面（18 个）

| 序号 | 页面 | 优先级 | 复杂度 | 预计页数 |
|------|------|--------|--------|----------|
| 1 | 登录页 | P0 | 低 | 1 |
| 2 | 注册页 | P0 | 低 | 1 |
| 3 | 首页/仪表盘 | P0 | 高 | 2 |
| 4 | 项目列表页 | P0 | 中 | 1 |
| 5 | 项目详情页 | P0 | 高 | 2 |
| 6 | 项目设置页 | P0 | 低 | 1 |
| 7 | 任务看板页 | P0 | 高 | 2 |
| 8 | 任务列表页 | P0 | 中 | 1 |
| 9 | 任务详情弹窗 | P0 | 中 | 1 |
| 10 | 任务创建/编辑弹窗 | P0 | 中 | 1 |
| 11 | 甘特图页 | P0 | 高 | 2 |
| 12 | 资源分配页 | P1 | 高 | 2 |
| 13 | 计划管理页 | P0 | 高 | 2 |
| 14 | 计划 WBS 编辑页 | P0 | 高 | 2 |
| 15 | 基线对比页 | P1 | 高 | 2 |
| 16 | 审批列表页 | P0 | 低 | 1 |
| 17 | 审批详情页 | P0 | 中 | 1 |
| 18 | 报表统计页 | P1 | 高 | 2 |

### 1.2 可选页面（后续迭代）

| 序号 | 页面 | 说明 |
|------|------|------|
| 19 | 文档管理页 | 文件上传、预览 |
| 20 | 问题跟踪页 | Bug/问题管理 |
| 21 | 风险管理页 | 风险登记 |
| 22 | 组织管理页 | 部门/成员管理 |
| 23 | 个人设置页 | 个人信息 |
| 24 | 通知中心 | 站内消息 |

---

## 2. 设计系统（Design System）

### 2.1 色彩规范

#### 主色调
```
品牌蓝（Brand Blue）: #1E5EB8
├─ 主色（Primary）: #1E5EB8
├─ 浅色（Primary Light）: #4A90E2
├─ 深色（Primary Dark）: #154A8A
└─ 悬停（Primary Hover）: #2B70D0
```

#### 语义色
```
成功（Success）: #52C41A
├─ 浅色: #95DE64
└─ 深色: #389E0D

警告（Warning）: #FAAD14
├─ 浅色: #FFC53D
└─ 深色: #D48806

危险（Danger）: #FF4D4F
├─ 浅色: #FF7875
└─ 深色: #CF1322

信息（Info）: #1890FF
├─ 浅色: #40A9FF
└─ 深色: #096DD9
```

#### 中性色
```
主文本（Text Primary）: #262626
次文本（Text Secondary）: #595959
占位符（Text Placeholder）: #8C8C8C
禁用（Text Disabled）: #BFBFBF

背景（Background）: #FFFFFF
次级背景（Background Secondary）: #F5F7FA
边框（Border）: #E8E8E8
分割线（Divider）: #F0F0F0
```

#### 状态色
```
待办（Todo）: #8C8C8C   ━━━ 灰色
进行中（In Progress）: #1890FF  ━━━ 蓝色
已完成（Done）: #52C41A   ━━━ 绿色
已逾期（Overdue）: #FF4D4F  ━━━ 红色
待审批（Pending）: #FAAD14  ━━━ 黄色
```

#### 优先级色
```
紧急（Urgent）: #FF4D4F  ━━━ 红色
高（High）: #FA8C16      ━━━ 橙色
中（Medium）: #1890FF    ━━━ 蓝色
低（Low）: #8C8C8C      ━━━ 灰色
```

### 2.2 字体规范

#### 字体家族
```
主字体（Primary）: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif

等宽字体（Monospace）: "JetBrains Mono", "Fira Code", Consolas, Monaco, "Courier New", monospace
```

#### 字号规范
```
┌─────────────────────────────────────────────────────┐
│  名称          │  字号    │  行高    │  字重    │  用途      │
├───────────────┼─────────┼─────────┼─────────┼──────────┤
│  特大标题      │  32px   │  40px   │  600    │  Hero     │
│  大标题        │  24px   │  32px   │  600    │  页面标题  │
│  中标题        │  18px   │  24px   │  600    │  区块标题  │
│  小标题        │  16px   │  24px   │  600    │  卡片标题  │
│  正文大        │  15px   │  24px   │  400    │  正文      │
│  正文          │  14px   │  22px   │  400    │  正文      │
│  小字          │  12px   │  20px   │  400    │  辅助说明  │
│  极小字        │  11px   │  18px   │  400    │  标签      │
└─────────────────────────────────────────────────────┘
```

#### 字重使用
```
600 (Semibold): 标题、按钮文字、标签
500 (Medium): 次要标题、表头
400 (Regular): 正文、说明文字
300 (Light): 装饰性文字
```

### 2.3 间距规范

#### 基础间距单位
```
基础单位（Unit）: 4px
├─ xs: 4px   (0.25rem)
├─ sm: 8px   (0.5rem)
├─ md: 16px  (1rem)
├─ lg: 24px  (1.5rem)
├─ xl: 32px  (2rem)
├─ 2xl: 48px (3rem)
└─ 3xl: 64px (4rem)
```

#### 页面布局间距
```
页边距（Page Margin）: 24px / 32px / 48px（大屏）
卡片内边距（Card Padding）: 24px
按钮内边距（Button Padding）: 8px 16px
表单项间距（Form Item Gap）: 16px
列表项间距（List Item Gap）: 12px
```

### 2.4 圆角规范

```
┌─────────────────────────────────────────────────────┐
│  小圆角（Small）:  4px     │  标签、徽章、小按钮      │
│  中圆角（Medium）: 6px     │  按钮、输入框            │
│  大圆角（Large）:  8px     │  卡片、弹窗              │
│  特大圆角（XL）:   12px    │  模态框、侧边栏          │
│  圆形（Circular）: 50%     │  头像、图标按钮          │
└─────────────────────────────────────────────────────┘
```

### 2.5 阴影规范

```
┌─────────────────────────────────────────────────────┐
│  浅阴影（Shadow SM）:  0 1px 2px rgba(0,0,0,0.05)   │
│  中阴影（Shadow MD）:  0 4px 6px rgba(0,0,0,0.07)   │
│  深阴影（Shadow LG）:  0 10px 20px rgba(0,0,0,0.08) │
│  悬浮阴影（Hover）:   0 8px 24px rgba(0,0,0,0.12)   │
│  弹出阴影（Popover）: 0 12px 48px rgba(0,0,0,0.15)  │
└─────────────────────────────────────────────────────┘
```

### 2.6 图标规范

#### 图标库
```
主选: Ant Design Icons / Heroicons
大小: 16px / 20px / 24px / 32px
风格: 线性（Outline）/ 实心（Filled）混合使用
```

#### 图标使用场景
```
线性图标（Outline）: 导航、工具栏、表格操作
实心图标（Filled）: 选中状态、徽章、通知
颜色: 默认 #595959，hover #262626，禁用 #BFBFBF
```

---

## 3. 组件规范

### 3.1 按钮（Buttons）

#### 主要按钮（Primary）
```
背景: #1E5EB8
文字: #FFFFFF
圆角: 6px
高度: 36px / 40px（主要）
内边距: 12px 24px
悬停: #2B70D0
禁用: #A0C4E8
```

#### 次要按钮（Secondary）
```
背景: #FFFFFF
边框: 1px solid #E8E8E8
文字: #262626
圆角: 6px
高度: 36px / 40px
悬停: #F5F7FA
```

#### 文字按钮（Text）
```
背景: transparent
文字: #1E5EB8
圆角: 6px
悬停: #F5F7FA
```

#### 危险按钮（Danger）
```
背景: #FF4D4F
文字: #FFFFFF
圆角: 6px
悬停: #FF7875
```

#### 按钮尺寸
```
大（Large）: height: 40px, padding: 10px 24px, font: 15px
中（Default）: height: 36px, padding: 8px 20px, font: 14px
小（Small）: height: 28px, padding: 4px 12px, font: 12px
```

### 3.2 输入框（Inputs）

#### 默认状态
```
高度: 36px / 40px
边框: 1px solid #E8E8E8
圆角: 6px
文字: #262626
占位符: #8C8C8C
背景: #FFFFFF
```

#### 聚焦状态
```
边框: 1px solid #1E5EB8
阴影: 0 0 0 2px rgba(30, 94, 184, 0.1)
```

#### 禁用状态
```
背景: #F5F7FA
文字: #BFBFBF
边框: #E8E8E8
```

#### 错误状态
```
边框: 1px solid #FF4D4F
错误提示: #FF4D4F
```

#### 输入框类型
```
单行文本: height: 36px
多行文本: min-height: 100px, resize: vertical
搜索框: 带搜索图标，右边清除按钮
日期选择: 带日历图标
下拉选择: 带下拉箭头
```

### 3.3 卡片（Cards）

#### 默认卡片
```
背景: #FFFFFF
圆角: 8px
边框: 1px solid #F0F0F0
内边距: 24px
阴影: 0 1px 2px rgba(0,0,0,0.05)
```

#### 悬浮卡片
```
阴影: 0 8px 24px rgba(0,0,0,0.12)
变换: translateY(-2px)
```

#### 选中卡片
```
边框: 2px solid #1E5EB8
阴影: 0 0 0 3px rgba(30, 94, 184, 0.1)
```

### 3.4 表格（Tables）

#### 表头
```
背景: #FAFAFA
文字: #262626
字重: 600
高度: 48px
对齐: 左对齐
边框底: 1px solid #F0F0F0
```

#### 表体
```
行高: 52px / 56px
悬停: #F5F7FA
选中: #E6F4FF
边框底: 1px solid #F0F0F0
```

#### 操作列
```
宽度: 120px / 150px
对齐: 居右
图标大小: 16px
间距: 12px
```

### 3.5 导航（Navigation）

#### 顶部导航
```
高度: 64px
背景: #FFFFFF
边框底: 1px solid #F0F0F0
Logo 区: 左侧 200px
用户区: 右侧 200px（头像 + 名字 + 下拉）
```

#### 侧边栏导航
```
宽度: 240px / 260px（收起: 80px）
背景: #FFFFFF
边框右: 1px solid #F0F0F0
菜单项高度: 44px
图标大小: 20px
选中背景: #E6F4FF
选中文字: #1E5EB8
```

#### 面包屑
```
文字大小: 12px
分隔符: /
当前页: #8C8C8C
可点击: #1E5EB8（hover: #154A8A）
```

### 3.6 弹窗（Modals）

#### 默认弹窗
```
宽度: 480px / 560px / 640px / 800px / 1000px
圆角: 12px
头部高度: 56px
底部高度: 64px
遮罩: rgba(0,0,0,0.45)
```

#### 确认弹窗
```
宽度: 400px
圆角: 12px
```

#### 抽屉（Drawer）
```
宽度: 400px / 560px / 640px / 800px
圆角: 0
```

---

## 4. 页面布局规范

### 4.1 页面结构

```
┌─────────────────────────────────────────────────────────────┐
│                      顶部导航栏                              │
│  Logo  │  搜索栏  │  导航菜单                │ 用户/通知     │
├────────┼──────────┼─────────────────────────┼───────────────┤
│        │          │                         │               │
│  侧边  │          │        主内容区          │               │
│  栏   │          │                         │               │
│        │          │                         │               │
│        │          │                         │               │
├────────┴──────────┴─────────────────────────┴───────────────┤
│                      底部版权信息                            │
└─────────────────────────────────────────────────────────────┘
```

### 4.2 侧边栏结构

```
┌──────────────────┐
│     Logo         │
├──────────────────┤
│                  │
│    仪表盘        │
│    项目         │
│    计划         │
│    任务         │
│    资源         │
│    报表         │
│    审批         │
│                  │
├──────────────────┤
│    设置          │
│    帮助          │
└──────────────────┘
```

### 4.3 主内容区布局

```
┌──────────────────────────────────────────┐
│  面包屑导航                               │
├──────────────────────────────────────────┤
│                                          │
│  ┌──────────────────────────────────┐   │
│  │     页面标题 + 操作按钮            │   │
│  └──────────────────────────────────┘   │
│                                          │
│  ┌──────────────────────────────────┐   │
│  │     筛选/搜索区域                 │   │
│  └──────────────────────────────────┘   │
│                                          │
│  ┌──────────────────────────────────┐   │
│  │     表格/列表/看板                │   │
│  │                                  │   │
│  │                                  │   │
│  └──────────────────────────────────┘   │
│                                          │
│  ┌──────────────────────────────────┐   │
│  │     分页控件                      │   │
│  └──────────────────────────────────┘   │
│                                          │
└──────────────────────────────────────────┘
```

### 4.4 卡片布局

```
┌─────────────────────────────────────┐
│  ┌─────────────────────────────────┐│
│  │         图标 + 数值              ││
│  └─────────────────────────────────┘│
│         标题 + 说明                   │
└─────────────────────────────────────┘

┌──────────────┬──────────────┬──────────────┐
│    卡片1     │    卡片2     │    卡片3     │
├──────────────┼──────────────┼──────────────┤
│    卡片4     │    卡片5     │    卡片6     │
└──────────────┴──────────────┴──────────────┘
```

---

## 5. 核心页面设计

### 5.1 登录页

#### 布局
```
居中单列布局，最大宽度 400px
```

#### 元素
```
Logo: 居中，48x48px
标题: "企业项目管理系统"，24px，600
副标题: "登录您的账户"，14px，灰色
表单: 邮箱 + 密码 + 记住我
按钮: "登录"，100% 宽度
链接: "忘记密码？" + "注册账号"
```

#### 交互
```
输入框聚焦时显示标签文字
密码框显示/隐藏切换
验证错误时显示红色提示
```

---

### 5.2 首页/仪表盘

#### 布局
```
顶部: 搜索框 + 用户信息
第一行: 项目概况大卡片（8个统计卡片）
第二行: 我的待办 + 最近项目
```

#### 项目概况大卡片
```
标题: 项目概况
内容: 8个统计卡片（4×2布局）
圆角: 8px
边框: 1px solid #E4E7ED
内边距: 20px
```

#### 统计卡片（8个单功能卡片）
| # | 卡片名称 | 图标颜色 | 主数字 | 底部信息 |
|---|----------|----------|--------|----------|
| 1 | 进行中项目 | 蓝 (#1E5EB8) | 12 | 较上周 +3 |
| 2 | 完成任务 | 绿 (#52C41A) | 89 | 完成率 57% |
| 3 | 发现问题 | 红 (#FF4D4F) | 68 | 15 待解决 |
| 4 | 风险项 | 橙 (#FA8C16) | 16 | 12 已管控 |
| 5 | 待交付 | 紫 (#722ED1) | 6 | 本周到期 3 |
| 6 | 本周截止 | 青 (#13C2C2) | 5 | 02/10-14 |
| 7 | 待审批 | 粉 (#EB2F96) | 3 | 2 计划变更 |
| 8 | 任务总数 | 橙 (#FAAD14) | 156 | 较上周 -12 |

#### 卡片规范
```
尺寸: 180px 高 × 自适应宽
圆角: 8px
布局: lg断点每行4个
数字展示: 数字 + 单位并列
悬浮效果: 阴影 + 上移
```

#### 我的待办
```
列表项: 任务名称 + 复选框 + 优先级标签
最多显示 4 条
"查看全部" 链接
```

#### 最近项目
```
卡片列表: 项目名称 + 进度条
最多显示 3 个
```

#### 移除内容（移至详情页）
```
任务统计卡片 → 任务详情页
风险/问题概览 → 风险/问题详情页
```

#### 全局搜索
```
位置: 顶部导航栏右侧
宽度: 280px
占位符: "搜索项目、任务、问题..."
功能: 项目/任务/问题全局检索
```

#### 侧边栏拖拽
```
位置: 侧边栏右侧边缘
宽度范围: 160px ~ 400px
交互: 鼠标拖拽调整宽度
```

### 5.3 项目列表页

#### 筛选区域
```
搜索框: 项目名称
筛选器: 状态（全部/进行中/已完成/已归档）
排序: 最近更新 / 项目名称
视图切换: 卡片 / 表格
```

#### 卡片视图
```
项目卡片:
├─ 项目名称（大标题）
├─ 项目描述（最多2行）
├─ 进度条 + 百分比
├─ 成员头像（最多5个）
└─ 状态标签
```

#### 表格视图
```
列: 选择框 | 项目名称 | 负责人 | 进度 | 状态 | 截止日期 | 操作
```

---

### 5.4 项目详情页

#### 顶部信息
```
项目名称（大标题）
项目描述
状态标签 + 进度百分比
操作按钮: 编辑 | 设置 | 更多
```

#### Tab 导航
```
概览 | 任务 | 看板 | 甘特图 | 文档 | 报表 | 成员
```

#### 概览 Tab
```
项目信息卡片: 负责人 | 开始日期 | 结束日期 | 状态
进度概览: 任务统计 + 燃尽图
团队成员: 头像 + 名字 + 角色
最近活动: 时间线列表
```

---

### 5.5 项目列表页 - 详细设计

#### 5.5.1 页面概述

**页面定位**: 项目管理系统核心入口，提供项目全局视图和快速操作能力。

**用户角色**: 所有登录用户（根据权限看到不同范围的项目）

**页面路径**: `/projects`

---

#### 5.5.2 页面布局

```
┌─────────────────────────────────────────────────────────────────┐
│  页面标题: 项目列表                                    [+ 新建项目] │
├─────────────────────────────────────────────────────────────────┤
│  筛选栏:  [搜索项目...]  [状态 v]  [排序 v]  [卡片/表格 v]      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  卡片视图                    或                    表格视图         │
│  ┌─────────────┐                              ┌───────────────┐  │
│  │ ┌─────────┐ │                            │ ☐ │ 项目名... │  │
│  │ │ 项目A   │ │                            │   │ ...      │  │
│  │ └─────────┘ │                            └───────────────┘  │
│  │ ┌─────────┐ │                            ┌───────────────┐  │
│  │ │ 项目B   │ │                            │ ☐ │ 项目名... │  │
│  │ └─────────┘ │                            │   │ ...      │  │
│  │    ...     │                            └───────────────┘  │
│  └─────────────┘                                       ...      │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  分页:  [< 1 2 3 >]  共 10 页                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

#### 5.5.3 筛选区域设计

##### 搜索框
```
位置: 左侧第一个
样式: Element Plus Input
占位符: "搜索项目名称、描述、Key..."
功能: 实时搜索，debounce 300ms
快捷键: Ctrl+K 聚焦搜索框
```

##### 状态筛选器
```
样式: Element Plus Select
选项:
  - 全部
  - 规划中 (planning)
  - 进行中 (active)
  - 已暂停 (on_hold)
  - 已完成 (completed)
  - 已归档 (archived)
默认: 全部
多选: 否
```

##### 排序方式
```
样式: Element Plus Select
选项:
  - 最近更新 (updated_at desc)
  - 创建时间 (created_at desc)
  - 项目名称 (name asc)
  - 截止日期 (end_date asc)
默认: 最近更新
```

##### 视图切换
```
样式: Element Plus Radio Group / Segmented Control
选项:
  - 卡片视图 (card)
  - 表格视图 (table)
默认: 卡片视图
```

---

#### 5.5.4 卡片视图设计

##### 项目卡片布局

```
┌─────────────────────────────────────────┐
│ [状态标签]                      [⋮更多] │
├─────────────────────────────────────────┤
│  🏷️ PJ123456                              │
│  📋 项目名称（最多20字符...）              │
│  📝 项目描述（最多2行，超出省略）          │
├─────────────────────────────────────────┤
│  📊 ████████████████████░░░  45%        │
├─────────────────────────────────────────┤
│  👥 👤 👤 👤 👤  +3    📅 2026-03-31     │
└─────────────────────────────────────────┘
```

##### 卡片字段说明

| 字段 | 样式 | 说明 |
|------|------|------|
| 状态标签 | ElTag | 根据status显示不同颜色 |
| 项目Key | Tag (gray) | 格式: PJXXXXXX |
| 项目名称 | H3, 16px, 600 | 超出省略 |
| 项目描述 | Text, 14px, gray | 最多2行 |
| 进度条 | ElProgress | 蓝色填充 |
| 成员头像 | ElAvatar (circle) | 最多5个，超出显示 +N |
| 截止日期 | Text, 12px | 红色过期提醒 |

##### 状态标签颜色映射

| 状态 | 值 | 颜色 |
|------|------|------|
| 规划中 | planning | info (蓝色) |
| 进行中 | active | success (绿色) |
| 已暂停 | on_hold | warning (黄色) |
| 已完成 | completed | success (绿色) |
| 已归档 | archived | info (灰色) |

---

#### 5.5.5 表格视图设计

##### 表格列定义

| 列名 | 宽度 | 字段 | 说明 |
|------|------|------|------|
| 选择 | 48px | - | 多选框 |
| 项目标识 | 100px | key | Tag样式显示 |
| 项目名称 | 200px | name | 可点击跳转详情 |
| 负责人 | 120px | owner | 头像+名字 |
| 进度 | 150px | progress | 进度条 |
| 状态 | 100px | status | 标签 |
| 截止日期 | 120px | end_date | 红色过期 |
| 操作 | 120px | - | 操作按钮组 |

##### 表格交互

| 交互 | 说明 |
|------|------|
| 单击行 | 打开项目详情页 |
| 双击行 | 编辑项目 |
| 单击复选框 | 选择项目 |
| 悬停行 | 显示操作按钮 |

---

#### 5.5.6 新建项目弹窗

##### 弹窗布局

```
┌─────────────────────────────────────────────┐
│  新建项目                            [X]   │
├─────────────────────────────────────────────┤
│  项目名称 *                                 │
│  [__________________________________]     │
│                                               │
│  项目标识                                     │
│  [PJ123456___________] (只读，系统自动生成)  │
│                                               │
│  项目描述                                     │
│  [__________________________________]     │
│  [__________________________________]     │
│  [__________________________________]     │
│                                               │
│  开始日期                                     │
│  [📅 ____________]                          │
│                                               │
│  截止日期                                     │
│  [📅 ____________]                          │
│                                               │
├─────────────────────────────────────────────┤
│                          [取消]  [创建]      │
└─────────────────────────────────────────────┘
```

##### 字段规则

| 字段 | 规则 |
|------|------|
| 项目名称 | 必填，2-100字符 |
| 项目标识 | 系统自动生成，格式 PJ+6位流水号 |
| 项目描述 | 可选，最多1000字符 |
| 开始日期 | 可选，默认今天 |
| 截止日期 | 可选，必须大于等于开始日期 |

---

#### 5.5.7 组件状态

| 状态 | 说明 |
|------|------|
| 空状态 | "暂无项目，点击新建项目开始" |
| 加载中 | Element Plus Skeleton |
| 加载失败 | "加载失败，点击重试" |
| 无匹配 | "未找到匹配的项目，调整搜索条件" |

---

#### 5.5.8 API 接口

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/v1/projects | 获取项目列表 |
| GET | /api/v1/projects/next-key | 获取下一个可用Key |
| POST | /api/v1/projects | 创建项目 |
| GET | /api/v1/projects/{id} | 获取项目详情 |
| PUT | /api/v1/projects/{id} | 更新项目 |
| DELETE | /api/v1/projects/{id} | 删除项目 |

---

#### 5.5.9 状态管理

```
// Pinia Store: useProjectStore

state:
  projects: Project[]
  loading: boolean
  error: string | null
  filters:
    keyword: string
    status: string
    sortBy: string
  pagination:
    page: number
    pageSize: number
    total: number

actions:
  fetchProjects(params)
  createProject(data)
  updateProject(id, data)
  deleteProject(id)
  setFilters(filters)
  setPagination(pagination)
```

---

### 5.6 项目详情页 - 详细设计

#### 5.6.1 页面概述

**页面定位**: 项目管理中心，提供项目的完整视图和各项管理功能入口。

**用户角色**: 项目成员（根据角色显示不同功能）

**页面路径**: `/projects/:id`

**权限控制**:
- 项目经理: 全部功能
- 项目成员: 查看 + 部分编辑
- 只读用户: 仅查看

---

#### 5.6.2 页面布局

```
┌─────────────────────────────────────────────────────────────────┐
│  [← 返回]  项目名称                                    [⋮更多] │
├─────────────────────────────────────────────────────────────────┤
│  🏷️ PJ123456  |  📊 45%完成  |  ⏰ 剩余15天                   │
├─────────────────────────────────────────────────────────────────┤
│  [📊 概览]  [📋 任务]  [📌 看板]  [📅 甘特图]  [📁 文档]       │
│  [📈 报表]  [👥 成员]  [⚙️ 设置]                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Tab内容区                                                      │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  面包屑: 首页 / 项目 / 项目名称                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

#### 5.6.3 顶部信息区

##### 项目标题栏

```
┌──────────────────────────────────────────────────────────────┐
│  [← 返回]  企业项目管理系统 V1.0                 [⋮更多 v] │
├──────────────────────────────────────────────────────────────┤
│  🏷️ PJ123456   📊 进度 45%   ⏰ 剩余15天   👤 张三 (项目经理) │
├──────────────────────────────────────────────────────────────┤
│  📝 开发企业级项目管理平台，支持项目计划、任务管理、甘特图... │
├──────────────────────────────────────────────────────────────┤
│  [📝 编辑]  [⚙️ 设置]  [📤 导出]  [⭐ 收藏]                  │
└──────────────────────────────────────────────────────────────┘
```

##### 字段说明

| 字段 | 样式 | 说明 |
|------|------|------|
| 返回按钮 | ElButton (link) | 返回项目列表 |
| 项目名称 | H1, 24px, 600 | 可编辑 |
| 项目Key | Tag, gray | 格式: PJXXXXXX |
| 进度 | ElProgress | 环形或线性 |
| 倒计时 | Text, warning | 红色过期 |
| 项目负责人 | Avatar + Name | 点击查看详情 |
| 项目描述 | Text, 14px, secondary | 最多3行 |
| 操作按钮组 | ElButton Group | 根据权限显示 |

---

#### 5.6.4 Tab 导航设计

##### Tab 列表

| Tab | 图标 | 路径 | 说明 |
|-----|------|------|------|
| 概览 | 📊 | /projects/:id/overview | 项目总览 |
| 任务 | 📋 | /projects/:id/tasks | 任务列表 |
| 看板 | 📌 | /projects/:id/board | 看板视图 |
| 甘特图 | 📅 | /projects/:id/gantt | 时间轴视图 |
| 文档 | 📁 | /projects/:id/docs | 文档管理 |
| 报表 | 📈 | /projects/:id/reports | 统计报表 |
| 成员 | 👥 | /projects/:id/members | 成员管理 |
| 设置 | ⚙️ | /projects/:id/settings | 项目设置 |

##### Tab 交互

| 交互 | 说明 |
|------|------|
| 单击Tab | 切换到对应内容 |
| 快捷键 Alt+数字 | 快速切换Tab (1-8) |
| 滚动悬停 | 左右滚动查看更多Tab |

---

#### 5.6.5 概览 Tab 设计

##### 概览内容布局

```
┌─────────────────────────────────────────────────────────────────┐
│  📊 项目概览                                    [刷新] [导出]      │
├─────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐ │
│  │ 进行中项目      │  │ 本周任务        │  │ 团队成员        │ │
│  │ 3              │  │ 12/45 完成      │  │ 8 人            │ │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘ │
│                                                                     │
├─────────────────────────────────────────────────────────────────┤
│  📅 里程碑                    [+ 新建里程碑]                      │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  ● 项目启动 (01-15)  [✓完成]                               │ │
│  │  ● 需求分析 (01-20)  [✓完成]                               │ │
│  │  ○ 设计阶段 (02-01 ~ 02-28)  [进行中]  进度 60%           │ │
│  │  ● 开发阶段 (03-01 ~ 03-31)  [未开始]                      │ │
│  │  ● 测试阶段 (04-01 ~ 04-15)  [未开始]                      │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                     │
├─────────────────────────────────────────────────────────────────┤
│  👥 团队成员                      [+ 添加成员]                    │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ 👤 张三 (项目经理)                       [管理员] [移除]  │ │
│  │ 👤 李四 (开发)                            [成员]   [移除]  │ │
│  │ 👤 王五 (测试)                            [成员]   [移除]  │ │
│  │ ...                                                           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                     │
├─────────────────────────────────────────────────────────────────┤
│  📋 最近活动                                      [查看全部]       │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ 🕐 张三 更新了任务 "设计数据库模型"           10分钟前    │ │
│  │ 🕐 李四 创建了任务 "API接口开发"               1小时前     │ │
│  │ 🕐 王五 完成了里程碑 "需求分析"                2小时前     │ │
│  │ ...                                                           │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────┘
```

---

#### 5.6.6 任务 Tab 设计

##### 任务列表布局

```
┌─────────────────────────────────────────────────────────────────┐
│  📋 任务列表                                    [+ 新建任务]    │
├─────────────────────────────────────────────────────────────────┤
│  [🔍 搜索任务...]  [状态 v]  [负责人 v]  [标签 v]  [...]        │
├─────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ ☐ │ 任务名称                │ 负责人 │ 状态   │ 截止... │ │
│  ├─────────────────────────────────────────────────────────────┤ │
│  │ ☑ │ 设计数据库模型          │ 👤张三 │ 进行中 │ 01-25  │ │
│  │ ☐ │ 开发用户认证模块        │ 👤李四 │ 待办   │ 02-01  │ │
│  │ ☐ │ 编写API接口文档        │ 👤王五 │ 待办   │ 02-05  │ │
│  │ ...                                                         │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                     │
├─────────────────────────────────────────────────────────────────┤
│  分页:  [< 1 2 3 >]  共 45 条                                 │
└─────────────────────────────────────────────────────────────────┘
```

##### 任务列表字段

| 列名 | 宽度 | 字段 | 说明 |
|------|------|------|------|
| 选择 | 40px | - | 多选框 |
| 任务名称 | 40% | title | 可点击展开详情 |
| 优先级 | 80px | priority | Tag显示 |
| 负责人 | 100px | assignee | Avatar |
| 状态 | 100px | status | Tag |
| 截止日期 | 100px | due_date | 红色过期 |
| 进度 | 100px | progress | 进度条 |
| 操作 | 80px | - | 操作按钮 |

---

#### 5.6.7 看板 Tab 设计

##### 看板布局

```
┌─────────────────────────────────────────────────────────────────┐
│  📌 看板视图                            [+ 新建任务]  [筛选 v]    │
├─────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌─────────┐ │
│  │ 待办 (Todo) │  │ 进行中     │  │ 审核中     │  │ 已完成  │ │
│  │ 3 个任务   │  │ 2 个任务   │  │ 1 个任务   │  │ 5 个... │ │
│  ├────────────┤  ├────────────┤  ├────────────┤  ├─────────┤ │
│  │            │  │            │  │            │  │         │ │
│  │ ┌────────┐ │  │ ┌────────┐ │  │ ┌────────┐ │  │ ┌─────┐ │ │
│  │ │任务卡片│ │  │ │任务卡片│ │  │ │任务卡片│ │  │ │任务..│ │ │
│  │ └────────┘ │  │ └────────┘ │  │ └────────┘ │  │ └─────┘ │ │
│  │            │  │            │  │            │  │         │ │
│  │ ┌────────┐ │  │ ┌────────┐ │  │            │  │         │ │
│  │ │任务卡片│ │  │ │任务卡片│ │  │            │  │         │ │
│  │ └────────┘ │  │ └────────┘ │  │            │  │         │ │
│  │            │  │            │  │            │  │         │ │
│  │ [+添加任务]│  │            │  │            │  │         │ │
│  └────────────┘  └────────────┘  └────────────┘  └─────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────┘
```

##### 看板列定义

| 列名 | status值 | 颜色主题 |
|------|----------|----------|
| 待办 | todo | 灰色 (#F5F7FA) |
| 进行中 | in_progress | 蓝色 (#E6F7FF) |
| 审核中 | review | 黄色 (#FFFBE6) |
| 已完成 | done | 绿色 (#F6FFED) |

---

#### 5.6.8 甘特图 Tab 设计

##### 甘特图布局

```
┌─────────────────────────────────────────────────────────────────┐
│  📅 甘特图视图                 [< 月 >] [< 周 >] [< 日 >]  [今天] │
├─────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ 任务名称          │ 01 │ 02 │ 03 │ 04 │ 05 │ 06 │ 07 ... │ │
│  ├─────────────────────────────────────────────────────────────┤ │
│  │ 项目启动          │ ████████████                               │ │
│  │ 需求分析          │    ████████████████                        │ │
│  │ 系统设计          │              ████████████████             │ │
│  │ 开发阶段          │                              ██████      │ │
│  │ 测试阶段          │                                      ██   │ │
│  │                   │                                               │ │
│  │ ◆ 里程碑1        │         ◆                                │ │
│  │ ◆ 里程碑2        │                     ◆                    │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                     │
├─────────────────────────────────────────────────────────────────┤
│  图例: [░░ 进行中] [░░ 待办] [░░ 已完成]  [◆ 里程碑]             │
└─────────────────────────────────────────────────────────────────┘
```

##### 甘特图交互

| 交互 | 说明 |
|------|------|
| 拖拽任务条 | 调整开始/结束日期 |
| 拖拽边缘 | 调整任务时长 |
| 拖拽里程碑 | 调整日期 |
| 点击任务 | 打开任务详情 |
| 滚轮缩放 | 调整时间轴粒度 |
| 拖拽时间轴 | 左右移动视图 |
| 双击时间轴 | 跳转到指定日期 |

---

#### 5.6.9 文档 Tab 设计

##### 文档列表布局

```
┌─────────────────────────────────────────────────────────────────┐
│  📁 文档管理                                      [+ 新建文档]    │
├─────────────────────────────────────────────────────────────────┤
│  [📂 全部] [📄 需求] [📋 设计] [📊 报告] [📁 其他]               │
├─────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ 📄 项目需求文档 v1.2        🕐 张三  01-15    [📥] [⋮]    │ │
│  │ 📋 系统架构设计              🕐 李四  01-20    [📥] [⋮]    │ │
│  │ 📊 测试报告                  🕐 王五  02-01    [📥] [⋮]    │ │
│  │ ...                                                         │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                     │
├─────────────────────────────────────────────────────────────────┤
│  上传区域: 拖拽文件到此处或 [点击上传]                           │
└─────────────────────────────────────────────────────────────────┘
```

---

#### 5.6.10 报表 Tab 设计

##### 报表内容布局

```
┌─────────────────────────────────────────────────────────────────┐
│  📈 项目报表                                      [📤 导出]      │
├─────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                    任务完成趋势 (燃尽图)                     │ │
│  │                                                                │ │
│  │     ████████████                                               │ │
│  │     ████████████                                               │ │
│  │     ████████████                                               │ │
│  │     ████████████                                               │ │
│  │     ────────────────────────  理想                          │ │
│  │       01   05   10   15   20   25   30                       │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐ │
│  │ 总任务数        │  │ 已完成          │  │ 逾期任务        │ │
│  │ 45              │  │ 28 (62%)        │  │ 3               │ │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────┘
```

---

#### 5.6.11 成员 Tab 设计

##### 成员列表布局

```
┌─────────────────────────────────────────────────────────────────┐
│  👥 项目成员                                      [+ 添加成员]    │
├─────────────────────────────────────────────────────────────────┤
│  [👤 全部] [👔 管理员] [👨‍💻 开发] [👩‍💼 测试]                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ 👤 张三                    项目经理           [👤 李四]    │ │
│  │ 🖥️ zhangsan@example.com   加入: 01-10     [编辑] [移除]  │ │
│  ├─────────────────────────────────────────────────────────────┤ │
│  │ 👤 李四                    开发工程师         [👤 王五]    │ │
│  │ 🖥️ lisi@example.com      加入: 01-12     [编辑] [移除]  │ │
│  ├─────────────────────────────────────────────────────────────┤ │
│  │ 👤 王五                    测试工程师         [👤 赵六]    │ │
│  │ 🖥️ wangwu@example.com   加入: 01-15     [编辑] [移除]  │ │
│  │ ...                                                         │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────┘
```

---

#### 5.6.12 设置 Tab 设计

##### 设置内容布局

```
┌─────────────────────────────────────────────────────────────────┐
│  ⚙️ 项目设置                                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ 基本信息                                                    │ │
│  │ ─────────────────────────────────────────────────────────── │ │
│  │ 项目名称: [__________________________________]              │ │
│  │ 项目描述: [__________________________________]              │ │
│  │ 项目标识: [PJ123456___________] (只读)                   │ │
│  │                                                             │ │
│  │ 项目周期: [____-__-__] 至 [____-__-__]                     │ │
│  │ 项目状态: [进行中 v]                                       │ │
│  │                                                             │ │
│  │ [💾 保存更改]                                              │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ 成员权限                                                    │ │
│  │ ─────────────────────────────────────────────────────────── │ │
│  │ 显示成员权限设置                                             │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ 危险操作                                                    │ │
│  │ ─────────────────────────────────────────────────────────── │ │
│  │ [🗑️ 删除项目]  此操作不可恢复                              │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────┘
```

---

#### 5.6.13 API 接口

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/v1/projects/:id | 获取项目详情 |
| PUT | /api/v1/projects/:id | 更新项目 |
| DELETE | /api/v1/projects/:id | 删除项目 |
| GET | /api/v1/projects/:id/stats | 获取项目统计 |
| GET | /api/v1/projects/:id/members | 获取成员列表 |
| POST | /api/v1/projects/:id/members | 添加成员 |
| PUT | /api/v1/projects/:id/members/:user_id | 更新成员角色 |
| DELETE | /api/v1/projects/:id/members/:user_id | 移除成员 |
| GET | /api/v1/projects/:id/activities | 获取活动日志 |

---

#### 5.6.14 状态管理

```
// Pinia Store: useProjectDetailStore

state:
  project: Project | null
  members: User[]
  stats: ProjectStats | null
  activities: Activity[]
  loading: boolean
  activeTab: string

actions:
  fetchProject(id)
  updateProject(id, data)
  deleteProject(id)
  fetchMembers(projectId)
  addMember(projectId, userId, role)
  updateMemberRole(projectId, userId, role)
  removeMember(projectId, userId)
  setActiveTab(tab)
```

---

### 5.7 任务看板页 - 详细设计

#### 5.7.1 页面概述

**页面定位**: 敏捷开发核心视图，支持任务拖拽和状态流转。

**用户角色**: 所有项目成员

**页面路径**: `/projects/:id/board`

---

#### 5.7.2 页面布局

```
┌─────────────────────────────────────────────────────────────────┐
│  📌 看板                                    [+ 新建任务]  [筛选] │
├─────────────────────────────────────────────────────────────────┤
│  [全部 v]  [全部 v]  [全部 v]                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌─────────┐ │
│  │ 待办 (3)    │  │ 进行中 (2) │  │ 审核中 (1) │  │ 已完成  │ │
│  │ [+]        │  │            │  │            │  │ (5)     │ │
│  ├────────────┤  ├────────────┤  ├────────────┤  ├─────────┤ │
│  │            │  │            │  │            │  │         │ │
│  │ ┌────────┐ │  │ ┌────────┐ │  │ ┌────────┐ │  │ ┌─────┐ │ │
│  │ │任务卡片│ │  │ │任务卡片│ │  │ │任务卡片│ │  │ │任务..│ │ │
│  │ └────────┘ │  │ └────────┘ │  │ └────────┘ │  │ └─────┘ │ │
│  │            │  │            │  │            │  │         │ │
│  │ ┌────────┐ │  │            │  │            │  │         │ │
│  │ │任务卡片│ │  │            │  │            │  │         │ │
│  │ └────────┘ │  │            │  │            │  │         │ │
│  │            │  │            │  │            │  │         │ │
│  └────────────┘  └────────────┘  └────────────┘  └─────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────┘
```

---

#### 5.7.3 任务卡片设计

##### 卡片内容

```
┌──────────────────────────────────────┐
│  [优先级] 任务名称                    │
│  📝 描述最多2行，超出省略...         │
│                                      │
│  🏷️ 标签1  🏷️ 标签2                  │
│                                      │
│  ─────────────────────────────────  │
│  👤 👤  📅 02-15  💬 3  📎 2        │
└──────────────────────────────────────┘
```

##### 卡片字段

| 字段 | 图标 | 说明 |
|------|------|------|
| 优先级 | 🏷️ | 红/橙/蓝/灰 |
| 任务名称 | - | H4, 14px |
| 描述 | 📝 | 灰色，2行省略 |
| 标签 | 🏷️ | 彩色标签 |
| 负责人 | 👤 | Avatar |
| 截止日期 | 📅 | 红色过期 |
| 评论数 | 💬 | 气泡图标 |
| 附件数 | 📎 | 回形针图标 |

---

#### 5.7.4 拖拽交互

| 交互 | 说明 |
|------|------|
| 拖拽开始 | 卡片浮起，显示阴影 |
| 拖拽中 | 其他卡片自动让位 |
| 拖拽结束 | 放置到新位置，触发API |
| 拖拽取消 | 返回原位置 |
| 跨列拖拽 | 自动更新状态 |

---

#### 5.7.5 API 接口

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/v1/projects/:id/board | 获取看板数据 |
| PUT | /api/v1/projects/:id/board/tasks/:id/status | 更新任务状态 |
| PUT | /api/v1/projects/:id/board/tasks/:id/order | 更新排序 |
| POST | /api/v1/projects/:id/tasks | 创建任务 |
| GET | /api/v1/tasks/:id | 获取任务详情 |
| PUT | /api/v1/tasks/:id | 更新任务 |
| DELETE | /api/v1/tasks/:id | 删除任务 |

---

### 5.8 甘特图页 - 详细设计

#### 5.8.1 页面概述

**页面定位**: 项目时间线视图，支持任务依赖和进度管理。

**用户角色**: 项目成员（根据权限显示编辑功能）

**页面路径**: `/projects/:id/gantt`

---

#### 5.8.2 页面布局

```
┌─────────────────────────────────────────────────────────────────┐
│  📅 甘特图                                    [+ 新建任务]  [今天] │
├─────────────────────────────────────────────────────────────────┤
│  [< 月 >] [< 周 >] [< 日 >]  [< 季度 >] [< 年度 >]              │
│  2026年1月                                                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ 任务/里程碑           │ 01 │ 02 │ 03 │ 04 │ 05 │ 06 │ 07 ...│ │
│  ├─────────────────────────────────────────────────────────────┤ │
│  │ 项目启动              ████                                       │
│  │   ├─ 需求分析         ░░░░██                                   │
│  │   ├─ 系统设计             ░░░░░░░░░██                           │
│  │   └─ 开发实现                     ░░░░░░░░░░░░░██             │
│  │  ◆ 里程碑1                       ◇                           │
│  │  ◆ 里程碑2                                           ◇       │
│  │                                                                  │
│  │ [+] 添加任务                                                  │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                     │
├─────────────────────────────────────────────────────────────────┤
│  图例: [░░ 进行中] [░░ 待办] [░░ 已完成]  [◆ 里程碑]  [→ 依赖]   │
└─────────────────────────────────────────────────────────────────┘
```

---

#### 5.8.3 时间轴控件

| 控件 | 说明 |
|------|------|
| < > | 上个月/下个月 |
| << >> | 上一季度/下一季度 |
| Today | 跳转到今天 |
| 缩放滑块 | 调整显示粒度 |

---

#### 5.8.4 任务条交互

| 交互 | 说明 |
|------|------|
| 单击任务 | 打开任务详情 |
| 双击任务 | 编辑任务 |
| 拖拽任务 | 调整日期范围 |
| 拖拽边缘 | 调整时长 |
| 右键菜单 | 复制、删除、快速编辑 |
| 拖拽依赖线 | 建立任务依赖 |

---

#### 5.8.5 里程碑设计

```
◆ 里程碑名称 (日期)
[可点击跳转]
```

##### 里程碑颜色

| 状态 | 颜色 |
|------|------|
| 未开始 | 灰色 |
| 进行中 | 蓝色 |
| 已完成 | 绿色 |
| 延期 | 红色 |

---

#### 5.8.6 依赖线设计

```
任务A ──────► 任务B
(前置)      (依赖)
```

| 依赖类型 | 线条样式 |
|------|------|
| 完成-开始 (FS) | 实线箭头 |
| 开始-开始 (SS) | 虚线箭头 |
| 完成-完成 (FF) | 点线箭头 |
| 开始-完成 (SF) | 双点线 |

---

#### 5.8.7 API 接口

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/v1/projects/:id/gantt | 获取甘特图数据 |
| POST | /api/v1/projects/:id/tasks | 创建任务 |
| PUT | /api/v1/tasks/:id | 更新任务 |
| PUT | /api/v1/tasks/:id/dates | 更新日期 |
| POST | /api/v1/tasks/:id/dependencies | 添加依赖 |
| DELETE | /api/v1/tasks/:id/dependencies/:depId | 删除依赖 |
| GET | /api/v1/projects/:id/milestones | 获取里程碑 |
| POST | /api/v1/projects/:id/milestones | 创建里程碑 |

---

### 5.9 设计规范总结

#### 5.9.1 页面响应式设计

| 断点 | 宽度 | 布局变化 |
|------|------|----------|
| xs | < 768px | 单列卡片，底部Tab导航 |
| sm | 768px - 992px | 双列卡片，侧边栏折叠 |
| md | 992px - 1200px | 默认布局 |
| lg | 1200px - 1920px | 宽屏卡片4列 |
| xl | > 1920px | 极宽屏，固定宽度1440px |

#### 5.9.2 性能优化

| 优化项 | 实现方式 |
|--------|----------|
| 列表分页 | 后端分页，每页20条 |
| 虚拟滚动 | 大列表使用虚拟滚动 |
| 图片懒加载 | Avatar使用lazy |
| 骨架屏 | 加载中显示Skeleton |
| 防抖搜索 | debounce 300ms |

#### 5.9.3 无障碍性

| 要求 | 实现 |
|------|------|
| 键盘导航 | 全页面支持Tab导航 |
| ARIA标签 | 按钮、卡片、表单添加ARIA |
| 焦点管理 | 弹窗打开/关闭焦点控制 |
| 颜色对比 | 符合WCAG AA标准 |
| 屏幕阅读 | 动态内容添加aria-live |

---

### 5.10 组件库选择

| 组件库 | 版本 | 用途 |
|--------|------|------|
| Element Plus | 2.5+ | UI组件库 |
| VueUse | 10+ | 工具函数 |
| vuedraggable | 4.1+ | 拖拽功能 |
| sortablejs | 1.15+ | 拖拽底层 |
| dayjs | 1.11+ | 日期处理 |
| echarts | 5.5+ | 图表报表 |

---

### 5.11 项目管理模块总结

#### 页面清单

| 序号 | 页面 | 路由 | 复杂度 | 状态 |
|------|------|------|--------|------|
| 1 | 项目列表 | /projects | 中 | 已实现 |
| 2 | 项目详情 | /projects/:id | 高 | 部分实现 |
| 3 | 任务看板 | /projects/:id/board | 高 | 已实现 |
| 4 | 甘特图 | /projects/:id/gantt | 高 | 待开发 |
| 5 | 任务列表 | /projects/:id/tasks | 中 | 部分实现 |

#### 技术栈

- **前端框架**: Vue 3 + Composition API
- **UI组件**: Element Plus
- **状态管理**: Pinia
- **路由**: Vue Router
- **拖拽**: vuedraggable + sortablejs
- **图表**: echarts
- **日期处理**: dayjs

#### 开发计划

| 阶段 | 内容 | 优先级 |
|------|------|--------|
| MVP | 项目列表 + 基础详情 | P0 |
| V1.1 | 任务看板 + 甘特图 | P0 |
| V1.2 | 文档管理 + 报表统计 | P1 |
| V1.3 | 资源分配 + 审批流程 | P1 |

---

## 更新日志

| 日期 | 版本 | 更新内容 |
|------|------|----------|
| 2026-02-08 | v1.0 | 初始版本 |
| 2026-02-10 | v1.1 | 项目Key自动生成设计 |
| 2026-02-10 | v1.2 | 项目列表/详情详细设计 |

---

**文档版本**: v1.2  
**最后更新**: 2026-02-10  
**维护者**: 前端开发团队

#### 看板列
```
Todo（待办）     │ In Progress（进行中）│ In Review（审核中）│ Done（已完成）
灰色背景         │ 蓝色边框           │ 黄色边框          │ 绿色边框
```

#### 任务卡片
```
标题: 任务名称
描述: 最多2行
标签: 优先级 + 类型
Avatar: 负责人头像
截止日期: 过期红色
子任务: x/y 完成
```

#### 交互
```
拖拽移动卡片
点击打开详情
新建任务按钮
筛选器: 负责人 | 标签 | 截止日期
```

---

### 5.6 甘特图页

#### 时间轴
```
顶部: 月/周/日 切换
左侧: 任务列表
右侧: 时间条 + 里程碑
```

#### 任务条
```
长度: 根据日期范围
颜色: 根据状态
进度: 填充效果
依赖线: 箭头连接
里程碑: 菱形图标
```

#### 交互
```
拖拽调整日期
拖拽调整时长
拖拽移动任务
缩放时间轴
```

---

### 5.7 计划管理页

#### 计划列表
```
计划名称 | 版本 | 状态 | 审批状态 | 操作
状态: 草稿 / 已生效 / 已归档
审批: 待审批 / 已通过 / 已驳回
```

#### 版本对比
```
左侧: 基线版本任务
中间: 变更高亮
右侧: 当前版本任务
颜色: 绿色（新增）| 红色（删除）| 黄色（修改）
```

---

### 5.8 资源分配页

#### 资源视图
```
左侧: 资源列表（人员/设备）
右侧: 时间轴 + 分配条
```

#### 分配条
```
高度: 8px
颜色: 任务颜色
重叠: 半透明叠加
利用率: 百分比标签
```

#### 资源弹窗
```
资源信息: 姓名 | 部门 | 角色
日产能: 8h/天
当前负载:  utilization %
分配详情: 任务列表 + 工时
超载警告: 红色提示
```

---

## 6. 响应式设计

### 6.1 断点定义
```
┌─────────────────────────────────────────────────────┐
│  xs:    < 576px      │  手机（简化布局）              │
│  sm:   576px - 768px │  大手机 / 小平板（单列布局）    │
│  md:   768px - 992px │  平板（双列布局）              │
│  lg:   992px - 1200px│  小桌面（标准布局）            │
│  xl:   1200px - 1600px│  桌面（完整布局）              │
│  xxl:  > 1600px      │  大屏（宽松布局）              │
└─────────────────────────────────────────────────────┘
```

### 6.2 PC 为主适配策略
```
默认: xl 断点设计
lg: 侧边栏收起、表格简化
md: 侧边栏隐藏（汉堡菜单）、表格卡片化
sm 以下: 全屏抽屉导航、单列布局
```

### 6.3 适配优先级
```
P0: 表格、列表、卡片（手机单列）
P1: 导航、筛选器（汉堡菜单）
P2: 看板、甘特图（建议 PC 使用）
P3: 复杂表单、对比视图（仅 PC）
```

---

## 7. 设计产出物

### 7.1 交付清单

| 序号 | 产出物 | 格式 | 说明 |
|------|--------|------|------|
| 1 | 设计系统文档 | Figma/Sketch | 颜色、字体、组件规范 |
| 2 | 核心页面设计稿 | Figma | 18 个高保真页面 |
| 3 | 组件库 | Figma/Sketch | 常用组件复用 |
| 4 | 图标库 | SVG | 100+ 图标 |
| 5 | 交互说明 | PDF/Markdown | 动效、交互逻辑 |
| 6 | 标注文件 | Figma | 开发标注、切图 |
| 7 | 切图资源 | PNG/SVG | 2x/3x 适配 |

### 7.2 设计工具
```
推荐: Figma（协作方便，标注自动生成）
备选: Sketch + Zeplin
备选: Adobe XD
```

---

## 8. 下一步行动

### 立即开始
- [ ] 确认设计工具（Figma 账号）
- [ ] 创建设计文件
- [ ] 建立设计系统
- [ ] 开始核心页面设计

### 与开发并行
- [ ] 设计完成一个页面 → 开发实现一个页面
- [ ] 及时调整设计稿（根据开发反馈）

---

## 9. 变更记录

| 日期 | 版本 | 变更内容 |
|------|------|---------|
| 2026-02-08 | v1.0 | 初始 UI/UX 设计方案 |
| 2026-02-08 | v1.1 | 仪表盘页面设计更新：增加8个统计卡片 |
| 2026-02-08 | v1.2 | 全局搜索功能：顶部导航栏增加搜索框 |
| 2026-02-08 | v1.3 | 仪表盘最终设计：8个卡片放入项目概况大卡片，移除任务统计/风险问题概览（移至详情页），增加侧边栏拖拽功能 |

---

## 10. 无障碍性设计

### 10.1 设计原则

#### 10.1.1 WCAG 2.1 AA 标准
系统遵循 WCAG 2.1 AA 标准，确保所有用户都能方便地使用系统。

#### 10.1.2 人本设计
- 设计优先考虑不同能力的用户
- 提供多种交互方式
- 确保使用广泛性

### 10.2 键盘导航设计

#### 10.2.1 焦点顺序
```
导航顺序: 主菜单 → 全局搜索 → 页面内容 → 侧边栏 → 页面底部 → 页脚
```

#### 10.2.2 焦点样式
```css
/* 焦点可见样式 */
:focus-visible {
  outline: 2px solid #1890ff;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(24, 144, 255, 0.15);
}

/* 按钮焦点 */
.btn:focus-visible {
  background-color: #4096ff;
}

/* 输入框焦点 */
.input:focus-visible {
  border-color: #1890ff;
  box-shadow: 0 0 0 3px rgba(24, 144, 255, 0.1);
}

/* 卡片焦点 */
.card:focus-visible {
  transform: translateY(-2px);
}
```

#### 10.2.3 快捷键规范
| 快捷键 | 功能 | 使用场景 |
|--------|------|---------|
| Ctrl + K | 搜索 | 快速搜索 |
| Ctrl + N | 新建 | 创建内容 |
| Ctrl + S | 保存 | 保存内容 |
| Alt + D | 仪表盘 | 跳转首页 |
| Alt + T | 任务 | 跳转任务页 |
| Alt + P | 项目 | 跳转项目页 |
| F5 | 刷新 | 刷新页面 |
| Esc | 取消 | 取消操作 |

### 10.3 屏幕阅读器设计

#### 10.3.1 ARIA 属性使用
```vue
<!-- 卡片组件 -->
<article role="region" aria-label="统计信息">
  <h3>标题</h3>
  <div aria-label="数值">123</div>
</article>

<!-- 输入框组件 -->
<input 
  id="email"
  aria-label="邮箱地址"
  aria-describedby="email-error"
  role="textbox"
/>

<!-- 按钮 -->
<button aria-label="保存按钮">保存</button>
```

#### 10.3.2 ARIA-live 区域
```vue
<!-- 错误提示区域 -->
<div role="alert" aria-live="assertive">
  错误信息
</div>

<!-- 动态内容区域 -->
<div aria-live="polite">
  加载中...
</div>
```

#### 10.3.3 图标处理
```vue
<!-- 装饰性图标 -->
<el-icon aria-hidden="true">IconName</el-icon>

<!-- 功能图标 -->
<el-icon aria-label="搜索图标">Search</el-icon>
```

### 10.4 颜色对比度

#### 10.4.1 对比度标准
- 正文文本：≥ 4.5:1
- UI 元素：≥ 3:1
- 非文本内容：≥ 3:1

#### 10.4.2 配色方案
```css
/* 文本颜色 */
--color-text-primary: #262626;  /* 对比度: 10:1 ✅ */
--color-text-secondary: #595959;  /* 对比度: 7:1 ✅ */
--color-text-tertiary: #595959;  /* 对比度: 7:1 ✅ */

/* 功能色 */
--color-success: #52C41A;  /* 对比度: 7:1 ✅ */
--color-warning: #FAAD14;  /* 对比度: 7:1 ✅ */
--color-danger: #FF4D4F;  /* 对比度: 7:1 ✅ */
--color-info: #1890FF;  /* 对比度: 10:1 ✅ */
```

#### 10.4.3 避免颜色作为唯一信息
- 使用图标 + 颜色提供信息
- 使用文本标签补充颜色含义
- 检查所有信息传递方式

### 10.5 焦点管理

#### 10.5.1 全局焦点管理
```javascript
// 焦点管理函数
const focusFirstInput = () => {
  nextTick(() => {
    const firstInput = document.querySelector('input[type="text"]') ||
                      document.querySelector('input[type="email"]')
    if (firstInput) {
      firstInput.focus()
    }
  })
}
```

#### 10.5.2 焦点陷阱
```javascript
// 模态框焦点陷阱
const trapFocus = (modal) => {
  const focusableElements = modal.querySelectorAll(
    'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1")]' +
    ':not([tabindex="-1")]' +
    ':not([tabindex="-1")]'
  )
  // 实现焦点陷阱逻辑
}
```

### 10.6 快捷键设计

#### 10.6.1 快捷键原则
- 常用操作使用快捷键
- 快捷键符合用户习惯
- 提供快捷键提示
- 支持自定义快捷键

#### 10.6.2 快捷键注册
```javascript
// 快捷键映射
const shortcuts = {
  'Ctrl+K': () => { searchInput.focus() },
  'Ctrl+N': () => { openCreateDialog() },
  'Ctrl+S': (e) => { e.preventDefault(); save() },
  'Alt+D': () => { router.push('/') },
  'Esc': () => { closeModal() }
}

// 注册快捷键
const registerShortcuts = () => {
  window.addEventListener('keydown', (e) => {
    if (['INPUT', 'TEXTAREA'].includes(document.activeElement.tagName)) {
      return
    }
    if (shortcuts[e.key]) {
      shortcuts[e.key](e)
    }
  })
}
```

### 10.7 辅助功能支持

#### 10.7.1 浏览器兼容性
- Chrome 最新版
- Firefox 最新版
- Edge 最新版
- Safari 最新版

#### 10.7.2 屏幕阅读器兼容性
| 屏幕阅读器 | 支持版本 | 备注 |
|-----------|---------|------|
| NVDA | 最新版 | Windows |
| JAWS | 最新版 | Windows |
| VoiceOver | 最新版 | Mac |
| Orca | 最新版 | Linux |

#### 10.7.3 第三方工具
- **axe DevTools** - 浏览器插件，WCAG 2.1 AA 审计
- **WAVE** - 在线无障碍评估工具
- **Lighthouse** - 浏览器性能和无障碍评分
- **色彩对比度检查工具** - 测试对比度

### 10.8 设计检查清单

#### 10.8.1 每次设计检查
- [ ] 使用语义化标签
- [ ] 所有元素有 ARIA 属性
- [ ] 焦点指示器清晰可见
- [ ] 颜色对比度符合标准
- [ ] 键盘导航完整
- [ ] 错误信息明确提示
- [ ] 加载状态有描述
- [ ] 屏幕阅读器测试通过

### 10.9 无障碍性测试

#### 10.9.1 自动化测试
```bash
# axe DevTools
npm install -g axe-cli
axe --tags=wcag2a,wcag2aa,wcag21a,wcag21aa target.html

# Lighthouse
lighthouse https://your-site.com
```

#### 10.9.2 手动测试流程
1. 使用键盘导航所有功能
2. 使用屏幕阅读器测试
3. 测试低对比度模式
4. 测试缩放至 125% 和 200%
5. 测试各种浏览器

---

## 变更记录

| 日期 | 版本 | 变更内容 |
|------|------|---------|
| 2026-02-08 | v1.0 | 初始 UI/UX 设计 |
| 2026-02-08 | v1.1 | 新增第10章：无障碍性设计 |

